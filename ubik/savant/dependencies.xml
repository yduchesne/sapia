<project name="ubik" xmlns:savant="inversoft:savant">

  <target name="do-get-libs">

    <delete includeEmptyDirs="false">
      <fileset dir="${project.libraryDir}" includes="**/*" />
    </delete>
    <savant:dependency>
      <savant:artifactgroup id="build">
        <savant:artifact group="junit" projectname="junit" name="junit" version="3.8.1" type="jar"/>      
      </savant:artifactgroup>
      
      <savant:artifactgroup id="dependencies">
      	
        <!-- sapia (used for naming service) -->
        <savant:artifact group="sapia" projectname="archie" name="sapia_archie" version="1.0.1" type="jar"/>

        <!-- concurrent -->
        <savant:artifact group="concurrent" projectname="concurrent" name="concurrent" version="1.3.4" type="jar"/>
      	
      	<!-- =========== Guice integration ========== -->
      	        
      	<savant:artifact group="google" projectname="guice" name="guice" version="1.0" type="jar"/>      	
      	
        <!-- =========== nio transport ========== -->
        
        <savant:artifact group="apache" projectname="mina" name="mina-core" version="1.1.2" type="jar"/>
      	<savant:artifact group="misc" projectname="slf4j" name="slf4j-api" version="1.2" type="jar"/>
      	<savant:artifact group="misc" projectname="slf4j" name="slf4j-jdk14" version="1.2" type="jar"/>
        
        <!-- =========== http transport ========== -->
        
        <!-- http client-->
        <savant:artifact group="commons-httpclient" projectname="commons-httpclient" name="commons-httpclient" version="3.0-rc3" type="jar"/>
        <savant:artifact group="commons-logging" projectname="commons-logging" name="commons-logging" version="1.0" type="jar"/>
        
        <!-- jetty -->
        <savant:artifact group="jetty" projectname="jetty" name="jetty" version="4.2.9" type="jar"/>
        <savant:artifact group="servletapi" projectname="servletapi" name="servletapi" version="2.3" type="jar"/>
        
        <!-- simple web server -->
        <savant:artifact group="simpleweb" projectname="simple" name="simple" version="2.6" type="jar"/>
      </savant:artifactgroup>

      <savant:workflow>
        <savant:mavenprocess defaultdomain="http://www.ibiblio.org/maven"/>            

        <!-- expecting libs under {defaultdomain}/{group}/{project}/{name}-{version}.{type} -->
        <savant:savantprocess defaultdomain="http://www.sapia-oss.org/savant"/>
      </savant:workflow>
    </savant:dependency>
    <savant:artifactcopy todir="${project.libraryDir}" flatten="true">
      <savant:artifactgroup refid="dependencies" />
    </savant:artifactcopy>
    <savant:artifactcopy todir="${project.savantDir}" flatten="true">
      <savant:artifactgroup refid="build" />
    </savant:artifactcopy>    
    </target>
</project>