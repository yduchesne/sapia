<soto:app xmlns:soto="sapia:soto"
          xmlns:corus="sapia:corus">
  
  <soto:namespace prefix="corus">
    <def class="org.sapia.corus.taskmanager.TaskManagerImpl"   name="taskman" />
    <def class="org.sapia.corus.deployer.DeployerImpl"         name="deployer" />
    <def class="org.sapia.corus.processor.ProcessorImpl"       name="processor" />
    <def class="org.sapia.corus.cluster.ClusterManagerImpl"    name="cluster" />
    <def class="org.sapia.corus.naming.JndiModuleImpl"         name="jndi" />
    <def class="org.sapia.corus.cron.CronModuleImpl"           name="cron" />
    <def class="org.sapia.corus.db.DbModuleImpl"               name="db" />
    <def class="org.sapia.corus.http.HttpModuleImpl"           name="http" />
    <def class="org.sapia.corus.port.PortManagerImpl"          name="ports" />
    <def class="org.sapia.corus.security.SecurityModuleImpl"   name="security" />    
    <def class="org.sapia.corus.event.EventDispatcherImpl"     name="dispatcher" />    
    <def class="org.sapia.corus.configurator.ConfiguratorImpl" name="configurator" />    
	<def class="org.sapia.corus.util.PropertyImpl" 			   name="property" /> 
  </soto:namespace>


  <soto:service id="org.sapia.corus.db.DbModule">
    <corus:db />
  </soto:service>

  <soto:service id="org.sapia.corus.configurator.Configurator">
    <corus:configurator />
  </soto:service>
  
  <soto:service id="org.sapia.corus.taskmanager.TaskManager">
    <corus:taskman />
  </soto:service>
  
  <soto:service id="org.sapia.corus.event.EventDispatcher">
    <corus:dispatcher />
  </soto:service>  
  
  <soto:service id="org.sapia.corus.http.HttpModule">
    <corus:http />
  </soto:service>

  <soto:service id="org.sapia.corus.port.PortManager">
    <corus:ports />
  </soto:service>

  <soto:service id="org.sapia.corus.deployer.Deployer">
    <corus:deployer> 
	  <tempDir>
	    <corus:property name="corus.server.tmp.dir" />
	  </tempDir>
	  <deployDir>
	    <corus:property name="corus.server.deploy.dir" />
	  </deployDir>
    </corus:deployer>
  </soto:service>

  <soto:service id="org.sapia.corus.processor.Processor">
    <corus:processor>
	  <checkInterval>
	    <corus:property name="corus.process.check-interval" />
	  </checkInterval>
	  <killInterval>
	    <corus:property name="corus.process.kill-interval" />
	  </killInterval>
	  <startInterval>
	    <corus:property name="corus.process.start-interval" />
	  </startInterval>
	  <restartInterval>
	    <corus:property name="corus.process.restart-interval" />
	  </restartInterval>
	  <processTimeout>
	    <corus:property name="corus.process.timeout" />
	  </processTimeout>
	</corus:processor>
  </soto:service>

  <soto:service id="org.sapia.corus.cluster.ClusterManager">
    <corus:cluster>
	  <mcastAddress>
	    <corus:property name="corus.server.multicast.address" />
	  </mcastAddress>
	  <mcastPort>
	    <corus:property name="corus.server.multicast.port" />
	  </mcastPort>
	</corus:cluster>
  </soto:service>

  <soto:service id="org.sapia.corus.naming.JndiModule">
    <corus:jndi />
  </soto:service>

  <soto:service id="org.sapia.corus.cron.CronModule">
    <corus:cron />
  </soto:service>
  
  <soto:service id="org.sapia.corus.security.SecurityModule">
    <corus:security>
      <allowedHostPatterns>
	    <corus:property name="corus.server.security.hostPattern.allow" />
	  </allowedHostPatterns>
      <deniedHostPatterns>
	    <corus:property name="corus.server.security.hostPattern.deny" />
	  </deniedHostPatterns>
	</corus:security>
  </soto:service>  

</soto:app>