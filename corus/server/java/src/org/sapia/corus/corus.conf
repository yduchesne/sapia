<soto:app xmlns:soto="sapia:soto"
          xmlns:corus="sapia:corus">
  
  <soto:namespace prefix="corus">
    <def class="org.sapia.corus.taskmanager.TaskManagerImpl" name="taskman" />
    <def class="org.sapia.corus.deployer.DeployerImpl"       name="deployer" />
    <def class="org.sapia.corus.processor.ProcessorImpl"     name="processor" />
    <def class="org.sapia.corus.cluster.ClusterManagerImpl"  name="cluster" />
    <def class="org.sapia.corus.naming.JndiModuleImpl"       name="jndi" />
    <def class="org.sapia.corus.cron.CronModuleImpl"         name="cron" />
    <def class="org.sapia.corus.db.DbModuleImpl"             name="db" />
    <def class="org.sapia.corus.http.HttpModuleImpl"         name="http" />
    <def class="org.sapia.corus.port.PortManagerImpl"        name="ports" />
    <def class="org.sapia.corus.security.SecurityModuleImpl" name="security" />    
    <def class="org.sapia.corus.event.EventDispatcherImpl"   name="dispatcher" />    
  </soto:namespace>
  
  <soto:service id="org.sapia.corus.taskmanager.TaskManager">
    <corus:taskman />
  </soto:service>
  
  <soto:service id="org.sapia.corus.event.EventDispatcher">
    <corus:dispatcher />
  </soto:service>  

  <soto:service id="org.sapia.corus.db.DbModule">
    <corus:db />
  </soto:service>
  
  <soto:service id="org.sapia.corus.http.HttpModule">
    <corus:http />
  </soto:service>

  <soto:service id="org.sapia.corus.port.PortManager">
    <corus:ports />
  </soto:service>

  <soto:service id="org.sapia.corus.deployer.Deployer">
    <corus:deployer tempDir="${corus.server.tmp.dir}" 
                    deployDir="${corus.server.deploy.dir}"/>
  </soto:service>

  <soto:service id="org.sapia.corus.processor.Processor">
    <corus:processor checkInterval="${corus.process.check-interval}" 
                     killInterval="${corus.process.kill-interval}"
                     startInterval="${corus.process.start-interval}"
                     restartInterval="${corus.process.restart-interval}"
                     processTimeout="${corus.process.timeout}" />
  </soto:service>

  <soto:service id="org.sapia.corus.cluster.ClusterManager">
    <corus:cluster mcastAddress="${corus.server.multicast.address}" 
                   mcastPort="${corus.server.multicast.port}" />
  </soto:service>

  <soto:service id="org.sapia.corus.naming.JndiModule">
    <corus:jndi />
  </soto:service>

  <soto:service id="org.sapia.corus.cron.CronModule">
    <corus:cron />
  </soto:service>
  
  <soto:service id="org.sapia.corus.security.SecurityModule">
    <corus:security allowedHostPatterns="${corus.server.security.hostPattern.allow}"
                    deniedHostPatterns="${corus.server.security.hostPattern.deny}" />
  </soto:service>  

</soto:app>