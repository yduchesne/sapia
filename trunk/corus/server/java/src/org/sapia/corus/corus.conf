<soto:app xmlns:soto="sapia:soto"
          xmlns:corus="sapia:corus">
  
  <soto:namespace prefix="corus">
    <def class="org.sapia.corus.taskmanager.CorusTaskManagerImpl"   name="taskman" />
    <def class="org.sapia.corus.deployer.DeployerImpl"         name="deployer" />
    <def class="org.sapia.corus.processor.ProcessorImpl"       name="processor" />
    <def class="org.sapia.corus.cluster.ClusterManagerImpl"    name="cluster" />
    <def class="org.sapia.corus.naming.JndiModuleImpl"         name="jndi" />
    <def class="org.sapia.corus.cron.CronModuleImpl"           name="cron" />
    <def class="org.sapia.corus.db.DbModuleImpl"               name="db" />
    <def class="org.sapia.corus.http.HttpModuleImpl"           name="http" />
    <def class="org.sapia.corus.port.PortManagerImpl"          name="ports" />
    <def class="org.sapia.corus.security.SecurityModuleImpl"   name="security" />    
    <def class="org.sapia.corus.event.EventDispatcherImpl"     name="dispatcher" />    
    <def class="org.sapia.corus.configurator.ConfiguratorImpl" name="configurator" />    
	<def class="org.sapia.corus.util.PropertyImpl" 			   name="property" />
	<def class="org.sapia.corus.ServiceBindingLayer" 		   name="bind" /> 
  </soto:namespace>


  <soto:service id="org.sapia.corus.db.DbModule">
    <corus:db />
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.admin.services.configurator.Configurator">
    <corus:configurator />
   	<corus:bind />
  </soto:service>
  
  <soto:service id="org.sapia.corus.taskmanager.CorusTaskManager">
    <corus:taskman />
   	<corus:bind />
  </soto:service>
  
  <soto:service id="org.sapia.corus.event.EventDispatcher">
    <corus:dispatcher />
   	<corus:bind />
  </soto:service>  
  
  <soto:service id="org.sapia.corus.http.HttpModule">
    <corus:http />
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.admin.services.port.PortManager">
    <corus:ports />
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.admin.services.deployer.Deployer">
    <corus:deployer> 
      <configuration>
		  <tempDir>
		    <corus:property name="corus.server.tmp.dir" />
		  </tempDir>
		  <deployDir>
		    <corus:property name="corus.server.deploy.dir" />
		  </deployDir>
	  </configuration>
    </corus:deployer>
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.admin.services.processor.Processor">
    <corus:processor>
      <configuration>
		  <processCheckInterval>
		    <corus:property name="corus.process.check-interval" />
		  </processCheckInterval>
		  <killInterval>
		    <corus:property name="corus.process.kill-interval" />
		  </killInterval>
		  <startInterval>
		    <corus:property name="corus.process.start-interval" />
		  </startInterval>
		  <restartInterval>
		    <corus:property name="corus.process.restart-interval" />
		  </restartInterval>
		  <processTimeout>
		    <corus:property name="corus.process.timeout" />
		  </processTimeout>
	  </configuration>
	</corus:processor>
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.cluster.ClusterManager">
    <corus:cluster>
	  <mcastAddress>
	    <corus:property name="corus.server.multicast.address" />
	  </mcastAddress>
	  <mcastPort>
	    <corus:property name="corus.server.multicast.port" />
	  </mcastPort>
	</corus:cluster>
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.admin.services.naming.JndiModule">
    <corus:jndi />
   	<corus:bind />
  </soto:service>

  <soto:service id="org.sapia.corus.cron.CronModule">
    <corus:cron />
   	<corus:bind />
  </soto:service>
  
  <soto:service id="org.sapia.corus.security.SecurityModule">
    <corus:security>
      <allowedHostPatterns>
	    <corus:property name="corus.server.security.hostPattern.allow" />
	  </allowedHostPatterns>
      <deniedHostPatterns>
	    <corus:property name="corus.server.security.hostPattern.deny" />
	  </deniedHostPatterns>
	</corus:security>
   	<corus:bind />
  </soto:service>  

</soto:app>